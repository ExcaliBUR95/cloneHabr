const React = require('react');
const importJsx = require('import-jsx');
const {
  Static,
  Box
} = require('ink');
const {
  STATUS_NOT_STARTED,
  STATUS_RUNNING,
  STATUS_SUCCEEDED,
  STATUS_FAILED
} = require('../../task-runner');
const {
  TASK_TYPE_PREPARE,
  TASK_TYPE_START,
  TASK_TYPE_FETCH_STORIES,
  TASK_TYPE_TESTS,
  TASK_TYPE_TEST,
  TASK_TYPE_STOP
} = require('../../constants');
const Task = importJsx('./Task');
const FailedTest = importJsx('./FailedTest');
const collectRecursively = (predicate, tasks, collection = []) => {
  for (let i = 0; i < tasks.length; i++) {
    const task = tasks[i];
    if (predicate(task)) {
      collection.push(task);
    }
    if (task.tasks) {
      return collectRecursively(predicate, task.tasks, collection);
    }
  }
  return collection;
};
const isRunningTest = task => task.status === STATUS_RUNNING && task.meta.type === TASK_TYPE_TEST;
const isCompletedTest = task => (task.status === STATUS_FAILED || task.status === STATUS_SUCCEEDED) && task.meta.type === TASK_TYPE_TEST;
const isFailedTest = task => task.status === STATUS_FAILED && task.meta.type === TASK_TYPE_TEST;
const isFailedTask = task => task.status === STATUS_FAILED && task.meta.type !== TASK_TYPE_TESTS;
const groupByKind = testTasks => testTasks.reduce((acc, task) => {
  const key = `${task.meta.target}/${task.meta.configuration}/${task.meta.kind}`;
  if (!acc[key]) {
    acc[key] = {
      target: task.meta.target,
      configuration: task.meta.configuration,
      kind: task.meta.kind,
      tasks: []
    };
  }
  acc[key].tasks.push(task);
  return acc;
}, {});
const KindTask = ({
  status,
  target,
  configuration,
  kind
}) => /*#__PURE__*/React.createElement(Task, {
  status: status,
  prefix: `${target}/${configuration}/`,
  title: kind
});
const TARGET_TASK_TITLE_MAP = {
  [TASK_TYPE_PREPARE]: 'Preparing',
  [TASK_TYPE_START]: 'Starting',
  [TASK_TYPE_FETCH_STORIES]: 'Fetching stories',
  [TASK_TYPE_TESTS]: 'Running tests',
  [TASK_TYPE_STOP]: 'Stopping'
};
const TargetTask = ({
  status,
  target,
  tasks
}) => {
  const currentTask = tasks && tasks.find(task => task.status === STATUS_NOT_STARTED || task.status === STATUS_RUNNING);
  const taskTitle = currentTask && TARGET_TASK_TITLE_MAP[currentTask.meta.type];
  const failedTasks = (tasks || []).filter(isFailedTask);
  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Task, {
    status: status,
    title: `${target}${status !== STATUS_FAILED && taskTitle ? `: ${taskTitle}` : ''}`
  }), failedTasks.map(task => /*#__PURE__*/React.createElement(FailedTest, {
    key: task.id,
    title: TARGET_TASK_TITLE_MAP[task.meta.type],
    error: task.error
  })));
};
const renderFailedTasks = tasks => tasks.filter(isFailedTest).map(task => /*#__PURE__*/React.createElement(FailedTest, {
  key: task.id,
  title: task.meta.story,
  error: task.error
}));
const renderKind = ({
  key,
  status,
  target,
  configuration,
  kind,
  tasks
}) => /*#__PURE__*/React.createElement(React.Fragment, {
  key: key
}, /*#__PURE__*/React.createElement(KindTask, {
  status: status,
  target: target,
  configuration: configuration,
  kind: kind
}), renderFailedTasks(tasks));
const renderKinds = kinds => kinds.map(renderKind);
const TaskList = ({
  tasks
}) => {
  const runningGrouped = groupByKind(collectRecursively(isRunningTest, tasks));
  const running = Object.keys(runningGrouped).map(key => ({
    key,
    ...runningGrouped[key],
    status: STATUS_RUNNING
  }));
  const completedGrouped = groupByKind(collectRecursively(isCompletedTest, tasks));
  const completed = Object.keys(completedGrouped).filter(key => !runningGrouped[key]).map(key => ({
    key,
    ...completedGrouped[key],
    status: completedGrouped[key].tasks.find(test => test.status === STATUS_FAILED) ? STATUS_FAILED : STATUS_SUCCEEDED,
    completedAt: completedGrouped[key].tasks.reduce((acc, task) => Math.max(acc, task.completedAt), 0)
  })).sort((a, b) => a.completedAt - b.completedAt);
  return /*#__PURE__*/React.createElement(Box, {
    flexDirection: "column"
  }, /*#__PURE__*/React.createElement(Static, {
    items: completed
  }, renderKind), renderKinds(running), tasks.map(task => /*#__PURE__*/React.createElement(TargetTask, {
    key: task.id,
    status: task.status,
    target: task.id,
    tasks: task.tasks
  })));
};
module.exports = TaskList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJpbXBvcnRKc3giLCJTdGF0aWMiLCJCb3giLCJTVEFUVVNfTk9UX1NUQVJURUQiLCJTVEFUVVNfUlVOTklORyIsIlNUQVRVU19TVUNDRUVERUQiLCJTVEFUVVNfRkFJTEVEIiwiVEFTS19UWVBFX1BSRVBBUkUiLCJUQVNLX1RZUEVfU1RBUlQiLCJUQVNLX1RZUEVfRkVUQ0hfU1RPUklFUyIsIlRBU0tfVFlQRV9URVNUUyIsIlRBU0tfVFlQRV9URVNUIiwiVEFTS19UWVBFX1NUT1AiLCJUYXNrIiwiRmFpbGVkVGVzdCIsImNvbGxlY3RSZWN1cnNpdmVseSIsInByZWRpY2F0ZSIsInRhc2tzIiwiY29sbGVjdGlvbiIsImkiLCJsZW5ndGgiLCJ0YXNrIiwicHVzaCIsImlzUnVubmluZ1Rlc3QiLCJzdGF0dXMiLCJtZXRhIiwidHlwZSIsImlzQ29tcGxldGVkVGVzdCIsImlzRmFpbGVkVGVzdCIsImlzRmFpbGVkVGFzayIsImdyb3VwQnlLaW5kIiwidGVzdFRhc2tzIiwicmVkdWNlIiwiYWNjIiwia2V5IiwidGFyZ2V0IiwiY29uZmlndXJhdGlvbiIsImtpbmQiLCJLaW5kVGFzayIsIlRBUkdFVF9UQVNLX1RJVExFX01BUCIsIlRhcmdldFRhc2siLCJjdXJyZW50VGFzayIsImZpbmQiLCJ0YXNrVGl0bGUiLCJmYWlsZWRUYXNrcyIsImZpbHRlciIsIm1hcCIsImlkIiwiZXJyb3IiLCJyZW5kZXJGYWlsZWRUYXNrcyIsInN0b3J5IiwicmVuZGVyS2luZCIsInJlbmRlcktpbmRzIiwia2luZHMiLCJUYXNrTGlzdCIsInJ1bm5pbmdHcm91cGVkIiwicnVubmluZyIsIk9iamVjdCIsImtleXMiLCJjb21wbGV0ZWRHcm91cGVkIiwiY29tcGxldGVkIiwidGVzdCIsImNvbXBsZXRlZEF0IiwiTWF0aCIsIm1heCIsInNvcnQiLCJhIiwiYiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJUYXNrTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBpbXBvcnRKc3ggPSByZXF1aXJlKCdpbXBvcnQtanN4Jyk7XG5jb25zdCB7IFN0YXRpYywgQm94IH0gPSByZXF1aXJlKCdpbmsnKTtcbmNvbnN0IHtcbiAgU1RBVFVTX05PVF9TVEFSVEVELFxuICBTVEFUVVNfUlVOTklORyxcbiAgU1RBVFVTX1NVQ0NFRURFRCxcbiAgU1RBVFVTX0ZBSUxFRCxcbn0gPSByZXF1aXJlKCcuLi8uLi90YXNrLXJ1bm5lcicpO1xuY29uc3Qge1xuICBUQVNLX1RZUEVfUFJFUEFSRSxcbiAgVEFTS19UWVBFX1NUQVJULFxuICBUQVNLX1RZUEVfRkVUQ0hfU1RPUklFUyxcbiAgVEFTS19UWVBFX1RFU1RTLFxuICBUQVNLX1RZUEVfVEVTVCxcbiAgVEFTS19UWVBFX1NUT1AsXG59ID0gcmVxdWlyZSgnLi4vLi4vY29uc3RhbnRzJyk7XG5cbmNvbnN0IFRhc2sgPSBpbXBvcnRKc3goJy4vVGFzaycpO1xuY29uc3QgRmFpbGVkVGVzdCA9IGltcG9ydEpzeCgnLi9GYWlsZWRUZXN0Jyk7XG5cbmNvbnN0IGNvbGxlY3RSZWN1cnNpdmVseSA9IChwcmVkaWNhdGUsIHRhc2tzLCBjb2xsZWN0aW9uID0gW10pID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRhc2sgPSB0YXNrc1tpXTtcbiAgICBpZiAocHJlZGljYXRlKHRhc2spKSB7XG4gICAgICBjb2xsZWN0aW9uLnB1c2godGFzayk7XG4gICAgfVxuICAgIGlmICh0YXNrLnRhc2tzKSB7XG4gICAgICByZXR1cm4gY29sbGVjdFJlY3Vyc2l2ZWx5KHByZWRpY2F0ZSwgdGFzay50YXNrcywgY29sbGVjdGlvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uO1xufTtcblxuY29uc3QgaXNSdW5uaW5nVGVzdCA9ICh0YXNrKSA9PlxuICB0YXNrLnN0YXR1cyA9PT0gU1RBVFVTX1JVTk5JTkcgJiYgdGFzay5tZXRhLnR5cGUgPT09IFRBU0tfVFlQRV9URVNUO1xuXG5jb25zdCBpc0NvbXBsZXRlZFRlc3QgPSAodGFzaykgPT5cbiAgKHRhc2suc3RhdHVzID09PSBTVEFUVVNfRkFJTEVEIHx8IHRhc2suc3RhdHVzID09PSBTVEFUVVNfU1VDQ0VFREVEKSAmJlxuICB0YXNrLm1ldGEudHlwZSA9PT0gVEFTS19UWVBFX1RFU1Q7XG5cbmNvbnN0IGlzRmFpbGVkVGVzdCA9ICh0YXNrKSA9PlxuICB0YXNrLnN0YXR1cyA9PT0gU1RBVFVTX0ZBSUxFRCAmJiB0YXNrLm1ldGEudHlwZSA9PT0gVEFTS19UWVBFX1RFU1Q7XG5cbmNvbnN0IGlzRmFpbGVkVGFzayA9ICh0YXNrKSA9PlxuICB0YXNrLnN0YXR1cyA9PT0gU1RBVFVTX0ZBSUxFRCAmJiB0YXNrLm1ldGEudHlwZSAhPT0gVEFTS19UWVBFX1RFU1RTO1xuXG5jb25zdCBncm91cEJ5S2luZCA9ICh0ZXN0VGFza3MpID0+XG4gIHRlc3RUYXNrcy5yZWR1Y2UoKGFjYywgdGFzaykgPT4ge1xuICAgIGNvbnN0IGtleSA9IGAke3Rhc2subWV0YS50YXJnZXR9LyR7dGFzay5tZXRhLmNvbmZpZ3VyYXRpb259LyR7dGFzay5tZXRhLmtpbmR9YDtcbiAgICBpZiAoIWFjY1trZXldKSB7XG4gICAgICBhY2Nba2V5XSA9IHtcbiAgICAgICAgdGFyZ2V0OiB0YXNrLm1ldGEudGFyZ2V0LFxuICAgICAgICBjb25maWd1cmF0aW9uOiB0YXNrLm1ldGEuY29uZmlndXJhdGlvbixcbiAgICAgICAga2luZDogdGFzay5tZXRhLmtpbmQsXG4gICAgICAgIHRhc2tzOiBbXSxcbiAgICAgIH07XG4gICAgfVxuICAgIGFjY1trZXldLnRhc2tzLnB1c2godGFzayk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuXG5jb25zdCBLaW5kVGFzayA9ICh7IHN0YXR1cywgdGFyZ2V0LCBjb25maWd1cmF0aW9uLCBraW5kIH0pID0+IChcbiAgPFRhc2sgc3RhdHVzPXtzdGF0dXN9IHByZWZpeD17YCR7dGFyZ2V0fS8ke2NvbmZpZ3VyYXRpb259L2B9IHRpdGxlPXtraW5kfSAvPlxuKTtcblxuY29uc3QgVEFSR0VUX1RBU0tfVElUTEVfTUFQID0ge1xuICBbVEFTS19UWVBFX1BSRVBBUkVdOiAnUHJlcGFyaW5nJyxcbiAgW1RBU0tfVFlQRV9TVEFSVF06ICdTdGFydGluZycsXG4gIFtUQVNLX1RZUEVfRkVUQ0hfU1RPUklFU106ICdGZXRjaGluZyBzdG9yaWVzJyxcbiAgW1RBU0tfVFlQRV9URVNUU106ICdSdW5uaW5nIHRlc3RzJyxcbiAgW1RBU0tfVFlQRV9TVE9QXTogJ1N0b3BwaW5nJyxcbn07XG5jb25zdCBUYXJnZXRUYXNrID0gKHsgc3RhdHVzLCB0YXJnZXQsIHRhc2tzIH0pID0+IHtcbiAgY29uc3QgY3VycmVudFRhc2sgPVxuICAgIHRhc2tzICYmXG4gICAgdGFza3MuZmluZChcbiAgICAgICh0YXNrKSA9PlxuICAgICAgICB0YXNrLnN0YXR1cyA9PT0gU1RBVFVTX05PVF9TVEFSVEVEIHx8IHRhc2suc3RhdHVzID09PSBTVEFUVVNfUlVOTklOR1xuICAgICk7XG4gIGNvbnN0IHRhc2tUaXRsZSA9IGN1cnJlbnRUYXNrICYmIFRBUkdFVF9UQVNLX1RJVExFX01BUFtjdXJyZW50VGFzay5tZXRhLnR5cGVdO1xuICBjb25zdCBmYWlsZWRUYXNrcyA9ICh0YXNrcyB8fCBbXSkuZmlsdGVyKGlzRmFpbGVkVGFzayk7XG5cbiAgcmV0dXJuIChcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8VGFza1xuICAgICAgICBzdGF0dXM9e3N0YXR1c31cbiAgICAgICAgdGl0bGU9e2Ake3RhcmdldH0ke1xuICAgICAgICAgIHN0YXR1cyAhPT0gU1RBVFVTX0ZBSUxFRCAmJiB0YXNrVGl0bGUgPyBgOiAke3Rhc2tUaXRsZX1gIDogJydcbiAgICAgICAgfWB9XG4gICAgICAvPlxuICAgICAge2ZhaWxlZFRhc2tzLm1hcCgodGFzaykgPT4gKFxuICAgICAgICA8RmFpbGVkVGVzdFxuICAgICAgICAgIGtleT17dGFzay5pZH1cbiAgICAgICAgICB0aXRsZT17VEFSR0VUX1RBU0tfVElUTEVfTUFQW3Rhc2subWV0YS50eXBlXX1cbiAgICAgICAgICBlcnJvcj17dGFzay5lcnJvcn1cbiAgICAgICAgLz5cbiAgICAgICkpfVxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICk7XG59O1xuXG5jb25zdCByZW5kZXJGYWlsZWRUYXNrcyA9ICh0YXNrcykgPT5cbiAgdGFza3NcbiAgICAuZmlsdGVyKGlzRmFpbGVkVGVzdClcbiAgICAubWFwKCh0YXNrKSA9PiAoXG4gICAgICA8RmFpbGVkVGVzdCBrZXk9e3Rhc2suaWR9IHRpdGxlPXt0YXNrLm1ldGEuc3Rvcnl9IGVycm9yPXt0YXNrLmVycm9yfSAvPlxuICAgICkpO1xuXG5jb25zdCByZW5kZXJLaW5kID0gKHsga2V5LCBzdGF0dXMsIHRhcmdldCwgY29uZmlndXJhdGlvbiwga2luZCwgdGFza3MgfSkgPT4gKFxuICA8UmVhY3QuRnJhZ21lbnQga2V5PXtrZXl9PlxuICAgIDxLaW5kVGFza1xuICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICB0YXJnZXQ9e3RhcmdldH1cbiAgICAgIGNvbmZpZ3VyYXRpb249e2NvbmZpZ3VyYXRpb259XG4gICAgICBraW5kPXtraW5kfVxuICAgIC8+XG4gICAge3JlbmRlckZhaWxlZFRhc2tzKHRhc2tzKX1cbiAgPC9SZWFjdC5GcmFnbWVudD5cbik7XG5cbmNvbnN0IHJlbmRlcktpbmRzID0gKGtpbmRzKSA9PiBraW5kcy5tYXAocmVuZGVyS2luZCk7XG5cbmNvbnN0IFRhc2tMaXN0ID0gKHsgdGFza3MgfSkgPT4ge1xuICBjb25zdCBydW5uaW5nR3JvdXBlZCA9IGdyb3VwQnlLaW5kKGNvbGxlY3RSZWN1cnNpdmVseShpc1J1bm5pbmdUZXN0LCB0YXNrcykpO1xuICBjb25zdCBydW5uaW5nID0gT2JqZWN0LmtleXMocnVubmluZ0dyb3VwZWQpLm1hcCgoa2V5KSA9PiAoe1xuICAgIGtleSxcbiAgICAuLi5ydW5uaW5nR3JvdXBlZFtrZXldLFxuICAgIHN0YXR1czogU1RBVFVTX1JVTk5JTkcsXG4gIH0pKTtcblxuICBjb25zdCBjb21wbGV0ZWRHcm91cGVkID0gZ3JvdXBCeUtpbmQoXG4gICAgY29sbGVjdFJlY3Vyc2l2ZWx5KGlzQ29tcGxldGVkVGVzdCwgdGFza3MpXG4gICk7XG4gIGNvbnN0IGNvbXBsZXRlZCA9IE9iamVjdC5rZXlzKGNvbXBsZXRlZEdyb3VwZWQpXG4gICAgLmZpbHRlcigoa2V5KSA9PiAhcnVubmluZ0dyb3VwZWRba2V5XSlcbiAgICAubWFwKChrZXkpID0+ICh7XG4gICAgICBrZXksXG4gICAgICAuLi5jb21wbGV0ZWRHcm91cGVkW2tleV0sXG4gICAgICBzdGF0dXM6IGNvbXBsZXRlZEdyb3VwZWRba2V5XS50YXNrcy5maW5kKFxuICAgICAgICAodGVzdCkgPT4gdGVzdC5zdGF0dXMgPT09IFNUQVRVU19GQUlMRURcbiAgICAgIClcbiAgICAgICAgPyBTVEFUVVNfRkFJTEVEXG4gICAgICAgIDogU1RBVFVTX1NVQ0NFRURFRCxcbiAgICAgIGNvbXBsZXRlZEF0OiBjb21wbGV0ZWRHcm91cGVkW2tleV0udGFza3MucmVkdWNlKFxuICAgICAgICAoYWNjLCB0YXNrKSA9PiBNYXRoLm1heChhY2MsIHRhc2suY29tcGxldGVkQXQpLFxuICAgICAgICAwXG4gICAgICApLFxuICAgIH0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLmNvbXBsZXRlZEF0IC0gYi5jb21wbGV0ZWRBdCk7XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94IGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIj5cbiAgICAgIDxTdGF0aWMgaXRlbXM9e2NvbXBsZXRlZH0+e3JlbmRlcktpbmR9PC9TdGF0aWM+XG4gICAgICB7cmVuZGVyS2luZHMocnVubmluZyl9XG4gICAgICB7dGFza3MubWFwKCh0YXNrKSA9PiAoXG4gICAgICAgIDxUYXJnZXRUYXNrXG4gICAgICAgICAga2V5PXt0YXNrLmlkfVxuICAgICAgICAgIHN0YXR1cz17dGFzay5zdGF0dXN9XG4gICAgICAgICAgdGFyZ2V0PXt0YXNrLmlkfVxuICAgICAgICAgIHRhc2tzPXt0YXNrLnRhc2tzfVxuICAgICAgICAvPlxuICAgICAgKSl9XG4gICAgPC9Cb3g+XG4gICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhc2tMaXN0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUIsTUFBTUMsU0FBUyxHQUFHRCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ3ZDLE1BQU07RUFBRUUsTUFBTTtFQUFFQztBQUFJLENBQUMsR0FBR0gsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUN0QyxNQUFNO0VBQ0pJLGtCQUFrQjtFQUNsQkMsY0FBYztFQUNkQyxnQkFBZ0I7RUFDaEJDO0FBQ0YsQ0FBQyxHQUFHUCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDaEMsTUFBTTtFQUNKUSxpQkFBaUI7RUFDakJDLGVBQWU7RUFDZkMsdUJBQXVCO0VBQ3ZCQyxlQUFlO0VBQ2ZDLGNBQWM7RUFDZEM7QUFDRixDQUFDLEdBQUdiLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUU5QixNQUFNYyxJQUFJLEdBQUdiLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTWMsVUFBVSxHQUFHZCxTQUFTLENBQUMsY0FBYyxDQUFDO0FBRTVDLE1BQU1lLGtCQUFrQixHQUFHLENBQUNDLFNBQVMsRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEdBQUcsRUFBRSxLQUFLO0VBQ2hFLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRixLQUFLLENBQUNHLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDckMsTUFBTUUsSUFBSSxHQUFHSixLQUFLLENBQUNFLENBQUMsQ0FBQztJQUNyQixJQUFJSCxTQUFTLENBQUNLLElBQUksQ0FBQyxFQUFFO01BQ25CSCxVQUFVLENBQUNJLElBQUksQ0FBQ0QsSUFBSSxD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